"use strict";function _defineProperty(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol?"symbol":typeof r},iqwerty=iqwerty||{};iqwerty.diff=function(){function r(r){Object.assign(this,r)}function e(e,t){var f,i=arguments.length<=2||void 0===arguments[2]?a:arguments[2],o=e.match(new RegExp(i));o=o?o.shift():"",e=e.split(new RegExp(i,"g")),t=t.split(new RegExp(i,"g"));for(var c=[],d=0;d<=e.length;d++){c[d]=[];for(var p=0;p<=t.length;p++)0===d?c[d][p]=p:0===p?c[d][p]=d:c[d][p]=0}for(var u=void 0,s=void 0,l=void 0,v=1;v<=e.length;v++)for(var y=1;y<=t.length;y++)u=c[v][y-1],s=c[v-1][y-1],l=c[v-1][y],e[v-1]===t[y-1]?c[v][y]=s:c[v][y]=Math.min(u,s,l)+1;for(var g=[],b=e.length,m=t.length,S=void 0,E=void 0,R=void 0,_=void 0,w=void 0,P=void 0;b>0||m>0;)e[b-1]===t[m-1]?(w=e[b-1],P="=",b--,m--):(R=b-1<0?n:c[b-1][m],S=m-1<0?n:c[b][m-1],E=b-1<0||m-1<0?n:c[b-1][m-1],_=Math.min(S,R,E),_===S?(w=t[m-1],P="+",m--):_===R?(w=e[b-1],P="-",b--):_===E&&(w=e[b-1],P={replacedBy:t[m-1]},b--,m--)),g.push({char:w,diff:P});return new r((f={},_defineProperty(f,h.FROM,e),_defineProperty(f,h.TO,t),_defineProperty(f,h.CHANGES,g.reverse()),_defineProperty(f,h.LDIS,c[e.length][t.length]),_defineProperty(f,h.SPLITTER,o),f))}function t(r){for(var e=[],t=0;t<r.length;t++){var f=r[t];"object"===_typeof(f.diff)?(e.push({char:f.char,diff:"-"}),e.push({char:f.diff.replacedBy,diff:"+"})):e.push(f)}return e}function f(r){for(var e="",t="",f="",i=[],n=0;n<r.length;n++)"="!==r[n].diff?(f&&(i.push({char:f,diff:"="}),f=""),"-"===r[n].diff?e+=r[n].char:t+=r[n].char):(e&&(i.push({char:e,diff:"-"}),e=""),t&&(i.push({char:t,diff:"+"}),t=""),f+=r[n].char);return e&&i.push({char:e,diff:"-"}),t&&i.push({char:t,diff:"+"}),f&&i.push({char:f,diff:"="}),i}function i(r){var e=t(r.changes);e=f(e);for(var i="",n="",o=0;o<e.length;o++){var a=e[o];if("="===a.diff)i+=a.char,n+=a.char;else{var h="("+a.diff+a.char+")";i+=h,n+='<span class="iqwerty-diff-'+("+"===a.diff?"add":"remove")+'">'+h+"</span>"}}return{plainText:i,richText:n}}var n=Number.MAX_SAFE_INTEGER,o={CHAR:"",WORD:"(\\s)",LINE:"(\\n)"},a=o.CHAR,h={FROM:"from",TO:"to",LDIS:"levenshteinDistance",CHANGES:"changes",SPLITTER:"splitter"};return r.prototype.toString=function(){return i(this)},{Diff:e,SplitBy:o}}();